{{!-- settings/fields/array.hbs --}}
{{!--
  inputs:
    - data: the array value
    - key: the key name of the value (if any)
    - type: the type of the value (if known, otherwise it will be inferred)
    - parentKey: the parent key name of the value (if any) - used for nested naming
    - metadata: the metadata for the setting (if any)
--}}

<div class="mb-3 input-group" data-setting-type="{{or type 'any'}}[]">
  <label class="input-group-text" title="{{key}}">{{key}}</label>
  <ul class="list-group form-control p-0 m-0 pt-3">
    {{!-- iterate over each item in the array --}}
    {{!-- for each item, render a settings/field partial with idx as [index] and parentKey as parentKey + [index] --}}
    {{!-- also pass type and metadata down --}}
    {{!-- if the array is empty, show a message --}}
    {{#if (eq (length data) 0)}}
      <li class="list-group-item border-0 m-0 pb-0 pt-0">
        <em class="text-muted text-center">No items in array</em>
      </li>
    {{/if}}
    {{#each data}}
      <li class="list-group-item border-0 m-0 pb-0 pt-0">
        <div class="">
            {{> settings/field data=this idx=(concat '[' @key ']') parentKey=(or ../parentKey @key) type=../type metadata=../metadata}}
        </div>
      </li>
    {{/each}}
  </ul>
</div>