{{!-- settings/fields/object.hbs ----}}
{{!--
  inputs:
    - data: the object value
    - key: the key name of the value (if any)
    - parentKey: the parent key name of the value (if any) - used for nested naming
    - type: the type of the value (if known, otherwise it will be inferred)
    - metadata: the metadata for the setting (if any)
    - path: the path to the metadata (if any)
    - isChild: whether this field is a child field (boolean, default: false)
--}}
{{> settings/fields/debug this}}
{{#if (eq (settingsGetMetadata metadata=metadata key="hidden") true)}}
  {{!-- do not render anything if this field is marked as not visible --}}
{{else}}

  {{> settings/metadata/deprecated/alert level="warning" metadata=metadata key=key}}

  <div class="mb-1 input-group" data-setting-type="object">
    <label class="input-group-text" title="{{key}}">{{key}}</label>
    <ul class="list-group form-control">
    {{#each data}}
      <li class="list-group-item border-0">
        <div class="">
          {{!--
              - data: the value to render
              - type: the type of the value (if known, otherwise it will be inferred)
              - metadata: the metadata for the settings (if any)
              - key: the key name of the value (required unless idx is provided)
              - idx: the index name of the value (required unless key is provided)
              - parentKey: the parent key name of the value (if any) - used for nested naming
              - path: the path to the metadata (if any)
              - isChild: whether this field is a child field (boolean, default: false)
          --}}
          {{> settings/field
              data=this
              key=@key
              parentKey=parentKey
              type=null
              metadata=../metadata
              path=(settingsCleanPath (concat path '.' ../key '.' @key))
              isChild=false
          }}
        </div>
      </li>
    {{/each}}
    </ul>
  </div>

  {{#if (not isChild) }}
  {{> settings/metadata/description metadata=metadata }}
  {{else}}
  <div class="mb-3"></div>
  {{/if}}
{{/if}}