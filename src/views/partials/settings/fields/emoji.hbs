{{!-- settings/fields/emoji.hbs --}}
{{!--
  inputs:
    - value: the string emoji value
    - label: the label for the input (if any)
    - id: the id for the input (if any)
    - name: the name for the input (if any)
    - metadata: the metadata for the setting (if any)
    - path: the path to the metadata (if any)
    - isChild: whether this field is a child field (boolean, default: false)
    - path: the path to the metadata (if any)
    - isChild: whether this field is a child field (boolean, default: false)

  The value can be:
    - Unicode emoji (e.g. 😀)
    - Custom emoji ID (e.g. 123456789012345678)
    - Custom emoji string (e.g. <:emoji_name:123456789012345678>)
--}}
{{> settings/fields/debug this}}
{{#if (eq (settingsGetMetadata metadata=metadata key="hidden") true)}}
  {{!-- do not render anything if this field is marked as not visible --}}
{{else}}
  {{> settings/metadata/deprecated/alert level="warning" metadata=metadata key=key}}
  <div 
      class="input-group mb-1" 
      data-setting-type="emoji" 
      {{> settings/metadata/deprecated/attrs level="warning" metadata=metadata key=key}}>
    <label class="input-group-text"
      for="field-{{id}}"
      id="field-{{id}}-label">{{label}}</label>
    <label class="input-group-text"
      for="field-{{id}}"
      id="field-{{id}}-emoji">
      {{#if (emojiId value)}}
        {{> discord/emoji id=(emojiId value) guild=@root.discordGuild large=true}}
      {{else if (emojiName value)}}
        {{> discord/emoji name=(emojiName value) guild=@root.discordGuild large=true}}
      {{else if (emojiUnicode value)}}
        {{emojiUnicode value}}
      {{else}}
        <em class="text-muted">🙁 unknown emoji 🙁</em>
      {{/if}}
    </label>
    {{> code value=value copy=true }}
    {{#if isChild}}
    <button class="btn btn-outline-secondary btn-sm border border-start-0 border-secondary-subtle text-danger" type="button"><i class="fas fa-trash" aria-hidden="true"></i></button>
    {{/if}}
    <input
      type="hidden"
      class="form-control" 
      placeholder="{{label}}"
      aria-label="{{label}}"
      aria-describedby="field-{{id}}-label"
      value="{{value}}" 
      name="{{or name label}}"
      {{#if (eq (settingsGetMetadata metadata=metadata key="disabled") true)}}disabled{{/if}}
      id="field-{{id}}"
    />
  </div>

  {{#if (not isChild) }}
  {{> settings/metadata/description metadata=metadata }}
  {{else}}
  <div class="mb-3"></div>
  {{/if}}
{{/if}}